---
import Layout from '../layouts/Layout.astro'

import ScrollSmoothWrapper from '@/components/util/ScrollSmoothWrapper.astro'
import Header from '@/components/header/Header.astro'
import FixBtn from '@/components/top/FixBtn.astro'
import TopHeadWrapper from '@/components/top/TopHeadWrapper.astro'
import Kv from '@/components/top/Kv.astro'
import About from '@/components/top/About.astro'
import Conference from '@/components/top/Conference.astro'
import Pickup from '@/components/top/Pickup.astro'
import Timetable from '@/components/top/Timetable.astro'
import Information from '@/components/top/Information.astro'
import JobBoard from '@/components/top/JobBoard.astro'
import Sponsors from '@/components/top/Sponsors.astro'
import LookingForSponsors from '@/components/top/LookingForSponsors.astro'
import Members from '@/components/top/Members.astro'
import Footer from '@/components/footer/Footer.astro'

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.
---

<Layout>
	<FixBtn />
	<Header />
	<ScrollSmoothWrapper>
		<main class="main" data-trigger="page-wrapper">
			<TopHeadWrapper>
				<Kv />
				<About />
			</TopHeadWrapper>
			<div class="bg-wrapper">
				<div class="fix-wrapper">
					<div class="fix" data-trigger="fix-btn"></div>
					<div data-trigger="header-state-change">
						<Conference />
						<Pickup />
						<!-- <Timetable /> -->
						<Information />
					</div>
					<JobBoard />
					<div data-trigger="header-state-change">
						<Sponsors />
					</div>
					<LookingForSponsors />
					<div data-trigger="header-state-change">
						<Members />
					</div>
				</div>
			</div>
		</main>
		<Footer />
	</ScrollSmoothWrapper>
</Layout>

<style>
	@layer base {
		:global(.reading-inner) {
			max-width: 760px;
			margin-inline: auto;
		}
		:global(.line-heading) {
			display: flex;
			align-items: center;
			justify-content: center;
			text-box: trim-both cap alphabetic;
			gap: 24px;
			margin-bottom: 64px;
			line-height: 1.5;
			:global(span) {
				text-box: trim-both cap alphabetic;
				font-size: rem(24);
				font-weight: 600;
				flex-shrink: 0;
			}
			&:before,
			&:after {
				content: '';
				flex: 1 1 100%;
				height: 1px;
				background-color: var(--color_grey);
			}
		}
		.fix-wrapper {
			position: relative;
		}
		.fix {
			pointer-events: none;
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: calc(100% - 100vh);
		}
		@media (--sp) {
			:global(.line-heading) {
				gap: 20px;
				margin-bottom: 52px;
				:global(span) {
					font-size: rem(20);
				}
			}
		}
	}
</style>

<script>
	import('@/scripts/intersectAnimation.js').then(({ initAnimation }) =>
		initAnimation()
	);
</script>