---
import PictureComponent from '@/components/util/PictureComponent.astro';
import wave_header_pc from '@/assets/top/wave_kv_header.png'
import wave_header_tb from '@/assets/top/wave_kv_header_tb.png'
import wave_header_sp from '@/assets/top/wave_kv_header_sp.png'
import wave_footer_pc from '@/assets/top/wave_kv_footer.png';
import wave_footer_tb from '@/assets/top/wave_kv_footer_tb.png';
import wave_footer_sp from '@/assets/top/wave_kv_footer_sp.png';
---

<div class="wrapper" data-trigger="kv-wrapper">
  <div class="wave wave--header">
    <PictureComponent
      mobileImgUrl={wave_header_sp}
      tabletImgUrl={wave_header_tb}
      desktopImgUrl={wave_header_pc}
      alt=""
    />
  </div>
  <div class="container" data-trigger="kv-container">
    <div class="content" data-trigger="kv-content">
      <slot />
    </div>
    <div class="wave wave--footer">
      <PictureComponent
        mobileImgUrl={wave_footer_sp}
        tabletImgUrl={wave_footer_tb}
        desktopImgUrl={wave_footer_pc}
        alt=""
      />
    </div>
  </div>
</div>

<style>
  @layer components {
    .container {
      background-color: var(--color_primary);
      padding-block: 264px max(200px, pw(308));
      position: relative;
      overflow: hidden;
    }
    .wave {
      width: 100%;
      left: 0;
      mix-blend-mode: luminosity;
      position: absolute;
      z-index: var(--z_over);
    }
    .wave--header {
      top: 0;
    }
    .wave--footer {
      position: absolute;
      bottom: -2px;
    }
    .wrapper-inner {
      position: relative;
      z-index: var(--z_over);
    }
    @media (--tb) {
      .container {
        padding-block: 216px vwTb(276);
      }
    }
    @media (--sp) {
      .container {
        padding-block: vw(195) vw(186);
      }
    }
  }
</style>

<script>
  import { setupKvAnimation } from '@/scripts/kvAnimation.ts'; 
  setupKvAnimation();
</script>