---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  level: 'kyoku' | 'matsu' | 'ume' | 'other';
  modifier?: string,
  href?: string | '#';
  img?: ImageMetadata;
  alt?: string;
}
const { level, modifier = null, href = '#', img = null, alt = null } = Astro.props;

---

<div class={`sponsor-logo ${level} ${modifier ?? ''}`}>
  <a href={href} target="_blank" class="link">
    {img && (
      <Image src={img} alt={alt} />
    )}
  </a>
</div>

<style>
  @layer components {
    .sponsor-logo {
      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
    }
    .link {
      display: block;
      width: 100%;
      height: 100%;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid transparent;
      background-color: var(--color_white);
      transition: border-color var(--transition_hover);
      @media (--hover) {
        &:hover {
          border-color: var(--color_primary);
        }
      }
    }
    .kyoku {
      aspect-ratio: 70 / 27;
      width: pw(540);
    }
    .matsu {
      aspect-ratio: 12 / 5;
      width: pw(480);
    }
    .ume {
      aspect-ratio: 8 / 3;
      width: pw(320);
    }
    .other {
      aspect-ratio: 12 / 5;
      width: pw(480);
    }
    @media (--tb) {
      .kyoku {
        width: vwTb(528);
      }
      .matsu {
        width: vwTb(440);
      }
      .ume {
        width: vwTb(336);
      }
      .other {
        width: vwTb(440);
      }
    }
    @media (--sp) {
      .kyoku {
        width: vw(252);
      }
      .matsu {
        width: vw(188);
      }
      .ume {
        width: vw(148);
      }
      .other {
        width: vw(188);
        &.reazon {
          aspect-ratio: 188 / 80;
        }
      }
    }
  }
</style>