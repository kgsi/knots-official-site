---
import type { ImageMetadata } from 'astro'

interface Props {
  mobileImgUrl: ImageMetadata
  tabletImgUrl: ImageMetadata
  desktopImgUrl: ImageMetadata
  alt: string | ''
}

const { mobileImgUrl, tabletImgUrl, desktopImgUrl, alt } = Astro.props

---

<picture>
  <source media="(max-width: 767px)" srcset={mobileImgUrl.src} />
  <source
    media="(min-width: 768px) and (max-width: 1024px)"
    srcset={tabletImgUrl.src || mobileImgUrl.src}
  />
  <source media="(min-width: 1025px)" srcset={desktopImgUrl.src} />
  <img
    src={desktopImgUrl.src}
    alt={alt}
    width={desktopImgUrl.width}
    height={desktopImgUrl.height}
  />
</picture>

<style>
  @layer components {
    picture, img {
      width: 100%;
      height: auto;
    }
  }
</style>
